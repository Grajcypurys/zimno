!function(e,t,i,s){i.swipebox=function(n,a){var o,u,r={useCSS:!0,useSVG:!0,initialIndexOnArray:0,removeBarsOnMobile:!0,hideCloseButtonOnMobile:!1,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"cccccc",beforeOpen:null,afterOpen:null,afterClose:null,nextSlide:null,prevSlide:null,loopAtEnd:!1,autoplayVideos:!1,queryStringData:{},toggleClassOnLoad:""},l=this,h=[],c=n.selector,f=i(c),d=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),p=null!==d||t.createTouch!==s||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,m=!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,g=e.innerWidth?e.innerWidth:i(e).width(),v=e.innerHeight?e.innerHeight:i(e).height(),_=0,b='<div id="swipebox-overlay">					<div id="swipebox-container">						<div id="swipebox-slider"></div>						<div id="swipebox-top-bar">							<div id="swipebox-title"></div>						</div>						<div id="swipebox-bottom-bar">							<div id="swipebox-arrows">								<a id="swipebox-prev"></a>								<a id="swipebox-next"></a>							</div>						</div>						<a id="swipebox-close"></a>					</div>			</div>';l.settings={},i.swipebox.close=function(){o.closeSlide()},i.swipebox.extend=function(){return o},l.init=function(){l.settings=i.extend({},r,a),i.isArray(n)?(h=n,o.target=i(e),o.init(l.settings.initialIndexOnArray)):i(t).on("click",c,function(e){if("slide current"===e.target.parentNode.className)return!1;i.isArray(n)||(o.destroy(),u=i(c),o.actions()),h=[];var t,s,a;a||(s="data-rel",a=i(this).attr(s)),a||(s="rel",a=i(this).attr(s)),u=a&&""!==a&&"nofollow"!==a?f.filter("["+s+'="'+a+'"]'):i(c),u.each(function(){var e=null,t=null;i(this).attr("title")&&(e=i(this).attr("title")),i(this).attr("href")&&(t=i(this).attr("href")),h.push({href:t,title:e})}),t=u.index(i(this)),e.preventDefault(),e.stopPropagation(),o.target=i(e.target),o.init(t)})},o={init:function(e){l.settings.beforeOpen&&l.settings.beforeOpen(),this.target.trigger("swipebox-start"),i.swipebox.isOpen=!0,this.build(),this.openSlide(e),this.openMedia(e),this.preloadMedia(e+1),this.preloadMedia(e-1),l.settings.afterOpen&&l.settings.afterOpen()},build:function(){var t,e=this;i("body").append(b),m&&l.settings.useSVG===!0&&(t=i("#swipebox-close").css("background-image"),t=t.replace("png","svg"),i("#swipebox-prev, #swipebox-next, #swipebox-close").css({"background-image":t})),d&&l.settings.removeBarsOnMobile&&i("#swipebox-bottom-bar, #swipebox-top-bar").remove(),i.each(h,function(){i("#swipebox-slider").append('<div class="slide"></div>')}),e.setDim(),e.actions(),p&&e.gesture(),e.keyboard(),e.animBars(),e.resize()},setDim:function(){var t,s,n={};"onorientationchange"in e?e.addEventListener("orientationchange",function(){0===e.orientation?(t=g,s=v):(90===e.orientation||-90===e.orientation)&&(t=v,s=g)},!1):(t=e.innerWidth?e.innerWidth:i(e).width(),s=e.innerHeight?e.innerHeight:i(e).height()),n={width:t,height:s},i("#swipebox-overlay").css(n)},resize:function(){var t=this;i(e).resize(function(){t.setDim()}).resize()},supportTransition:function(){var i,e="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(i=0;i<e.length;i++)if(t.createElement("div").style[e[i]]!==s)return e[i];return!1},doCssTrans:function(){return l.settings.useCSS&&this.supportTransition()?!0:void 0},gesture:function(){var t,s,n,a,o,r,e=this,l=!1,u=!1,c=10,f=50,d={},p={},m=i("#swipebox-top-bar, #swipebox-bottom-bar"),v=i("#swipebox-slider");m.addClass("visible-bars"),e.setTimeout(),i("body").bind("touchstart",function(e){return i(this).addClass("touching"),t=i("#swipebox-slider .slide").index(i("#swipebox-slider .slide.current")),p=e.originalEvent.targetTouches[0],d.pageX=e.originalEvent.targetTouches[0].pageX,d.pageY=e.originalEvent.targetTouches[0].pageY,i("#swipebox-slider").css({"-webkit-transform":"translate3d("+_+"%, 0, 0)",transform:"translate3d("+_+"%, 0, 0)"}),i(".touching").bind("touchmove",function(e){if(e.preventDefault(),e.stopPropagation(),p=e.originalEvent.targetTouches[0],!u&&(o=n,n=p.pageY-d.pageY,Math.abs(n)>=f||l)){var m=.75-Math.abs(n)/v.height();v.css({top:n+"px"}),v.css({opacity:m}),l=!0}a=s,s=p.pageX-d.pageX,r=100*s/g,!u&&!l&&Math.abs(s)>=c&&(i("#swipebox-slider").css({"-webkit-transition":"",transition:""}),u=!0),u&&(s>0?0===t?i("#swipebox-overlay").addClass("leftSpringTouch"):(i("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),i("#swipebox-slider").css({"-webkit-transform":"translate3d("+(_+r)+"%, 0, 0)",transform:"translate3d("+(_+r)+"%, 0, 0)"})):0>s&&(h.length===t+1?i("#swipebox-overlay").addClass("rightSpringTouch"):(i("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),i("#swipebox-slider").css({"-webkit-transform":"translate3d("+(_+r)+"%, 0, 0)",transform:"translate3d("+(_+r)+"%, 0, 0)"}))))}),!1}).bind("touchend",function(t){if(t.preventDefault(),t.stopPropagation(),i("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease",transition:"transform 0.4s ease"}),n=p.pageY-d.pageY,s=p.pageX-d.pageX,r=100*s/g,l)if(l=!1,Math.abs(n)>=2*f&&Math.abs(n)>Math.abs(o)){var h=n>0?v.height():-v.height();v.animate({top:h+"px",opacity:0},300,function(){e.closeSlide()})}else v.animate({top:0,opacity:1},300);else u?(u=!1,s>=c&&s>=a?e.getPrev():-c>=s&&a>=s&&e.getNext()):m.hasClass("visible-bars")?(e.clearTimeout(),e.hideBars()):(e.showBars(),e.setTimeout());i("#swipebox-slider").css({"-webkit-transform":"translate3d("+_+"%, 0, 0)",transform:"translate3d("+_+"%, 0, 0)"}),i("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),i(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(l.settings.hideBarsDelay>0){var t=this;t.clearTimeout(),t.timeout=e.setTimeout(function(){t.hideBars()},l.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var e=i("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?e.addClass("visible-bars"):(i("#swipebox-top-bar").animate({top:0},500),i("#swipebox-bottom-bar").animate({bottom:0},500),setTimeout(function(){e.addClass("visible-bars")},1e3))},hideBars:function(){var e=i("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?e.removeClass("visible-bars"):(i("#swipebox-top-bar").animate({top:"-50px"},500),i("#swipebox-bottom-bar").animate({bottom:"-50px"},500),setTimeout(function(){e.removeClass("visible-bars")},1e3))},animBars:function(){var e=this,t=i("#swipebox-top-bar, #swipebox-bottom-bar");t.addClass("visible-bars"),e.setTimeout(),i("#swipebox-slider").click(function(){t.hasClass("visible-bars")||(e.showBars(),e.setTimeout())}),i("#swipebox-bottom-bar").hover(function(){e.showBars(),t.addClass("visible-bars"),e.clearTimeout()},function(){l.settings.hideBarsDelay>0&&(t.removeClass("visible-bars"),e.setTimeout())})},keyboard:function(){var t=this;i(e).bind("keyup",function(e){e.preventDefault(),e.stopPropagation(),37===e.keyCode?t.getPrev():39===e.keyCode?t.getNext():27===e.keyCode&&t.closeSlide()})},actions:function(){var e=this,t="touchend click";h.length<2?(i("#swipebox-bottom-bar").hide(),s===h[1]&&i("#swipebox-top-bar").hide()):(i("#swipebox-prev").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getPrev(),e.setTimeout()}),i("#swipebox-next").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getNext(),e.setTimeout()})),i("#swipebox-close").bind(t,function(){e.closeSlide()})},setSlide:function(e,t){t=t||!1;var s=i("#swipebox-slider");_=100*-e,this.doCssTrans()?s.css({"-webkit-transform":"translate3d("+100*-e+"%, 0, 0)",transform:"translate3d("+100*-e+"%, 0, 0)"}):s.animate({left:100*-e+"%"}),i("#swipebox-slider .slide").removeClass("current"),i("#swipebox-slider .slide").eq(e).addClass("current"),this.setTitle(e),t&&s.fadeIn(),i("#swipebox-prev, #swipebox-next").removeClass("disabled"),0===e?i("#swipebox-prev").addClass("disabled"):e===h.length-1&&l.settings.loopAtEnd!==!0&&i("#swipebox-next").addClass("disabled")},openSlide:function(t){i("html").addClass("swipebox-html"),p?(i("html").addClass("swipebox-touch"),l.settings.hideCloseButtonOnMobile&&i("html").addClass("swipebox-no-close-button")):i("html").addClass("swipebox-no-touch"),i(e).trigger("resize"),this.setSlide(t,!0)},preloadMedia:function(e){var t=this,i=null;h[e]!==s&&(i=h[e].href),t.isVideo(i)?t.openMedia(e):setTimeout(function(){t.openMedia(e)},1e3)},openMedia:function(e){var n,a,t=this;return h[e]!==s&&(n=h[e].href),0>e||e>=h.length?!1:(a=i("#swipebox-slider .slide").eq(e),void(t.isVideo(n)?a.html(t.getVideo(n)):(a.addClass("slide-loading"),t.loadMedia(n,function(){a.removeClass("slide-loading"),a.html(this)}))))},setTitle:function(e){var t=null;i("#swipebox-title").empty(),h[e]!==s&&(t=h[e].title),t?(i("#swipebox-top-bar").show(),i("#swipebox-title").append(t)):i("#swipebox-top-bar").hide()},isVideo:function(e){if(e){if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return!0;if(e.toLowerCase().indexOf("swipeboxvideo=1")>=0)return!0}},parseUri:function(e,s){var n=t.createElement("a"),a={};return n.href=decodeURIComponent(e),n.search&&(a=JSON.parse('{"'+n.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}')),i.isPlainObject(s)&&(a=i.extend(a,s,l.settings.queryStringData)),i.map(a,function(e,t){return e&&e>""?encodeURIComponent(t)+"="+encodeURIComponent(e):void 0}).join("&")},getVideo:function(e){var t="",i=e.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/),s=e.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),n=e.match(/(?:www\.)?vimeo\.com\/([0-9]*)/),a="";return i||s?(s&&(i=s),a=o.parseUri(e,{autoplay:l.settings.autoplayVideos?"1":"0",v:""}),t='<iframe width="560" height="315" src="//'+i[1]+"/embed/"+i[2]+"?"+a+'" frameborder="0" allowfullscreen></iframe>'):n?(a=o.parseUri(e,{autoplay:l.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:l.settings.vimeoColor}),t='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+n[1]+"?"+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):t='<iframe width="560" height="315" src="'+e+'" frameborder="0" allowfullscreen></iframe>','<div class="swipebox-video-container" style="max-width:'+l.settings.videoMaxWidth+'px"><div class="swipebox-video">'+t+"</div></div>"},loadMedia:function(e,t){if(0===e.trim().indexOf("#"))t.call(i("<div>",{"class":"swipebox-inline-container"}).append(i(e).clone().toggleClass(l.settings.toggleClassOnLoad)));else if(!this.isVideo(e)){var s=i("<img>").on("load",function(){t.call(s)});s.attr("src",e)}},getNext:function(){var t,e=this,s=i("#swipebox-slider .slide").index(i("#swipebox-slider .slide.current"));s+1<h.length?(t=i("#swipebox-slider .slide").eq(s).contents().find("iframe").attr("src"),i("#swipebox-slider .slide").eq(s).contents().find("iframe").attr("src",t),s++,e.setSlide(s),e.preloadMedia(s+1),l.settings.nextSlide&&l.settings.nextSlide()):l.settings.loopAtEnd===!0?(t=i("#swipebox-slider .slide").eq(s).contents().find("iframe").attr("src"),i("#swipebox-slider .slide").eq(s).contents().find("iframe").attr("src",t),s=0,e.preloadMedia(s),e.setSlide(s),e.preloadMedia(s+1),l.settings.nextSlide&&l.settings.nextSlide()):(i("#swipebox-overlay").addClass("rightSpring"),setTimeout(function(){i("#swipebox-overlay").removeClass("rightSpring")},500))},getPrev:function(){var t,e=i("#swipebox-slider .slide").index(i("#swipebox-slider .slide.current"));e>0?(t=i("#swipebox-slider .slide").eq(e).contents().find("iframe").attr("src"),i("#swipebox-slider .slide").eq(e).contents().find("iframe").attr("src",t),e--,this.setSlide(e),this.preloadMedia(e-1),l.settings.prevSlide&&l.settings.prevSlide()):(i("#swipebox-overlay").addClass("leftSpring"),setTimeout(function(){i("#swipebox-overlay").removeClass("leftSpring")},500))},nextSlide:function(){},prevSlide:function(){},closeSlide:function(){i("html").removeClass("swipebox-html"),i("html").removeClass("swipebox-touch"),i(e).trigger("resize"),this.destroy()},destroy:function(){i(e).unbind("keyup"),i("body").unbind("touchstart"),i("body").unbind("touchmove"),i("body").unbind("touchend"),i("#swipebox-slider").unbind(),i("#swipebox-overlay").remove(),i.isArray(n)||n.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),i.swipebox.isOpen=!1,l.settings.afterClose&&l.settings.afterClose()}},l.init()},i.fn.swipebox=function(e){if(!i.data(this,"_swipebox")){var t=new i.swipebox(this,e);this.data("_swipebox",t)}return this.data("_swipebox")}}(window,document,jQuery);