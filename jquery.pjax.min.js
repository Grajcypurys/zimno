!function(e){function t(t,s,n){var a=this;return this.on("click.pjax",t,function(t){var o=e.extend({},m(s,n));o.container||(o.container=e(this).attr("data-pjax")||a),i(t,o)})}function i(t,i,s){s=m(i,s);var a=t.currentTarget;if("A"!==a.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==a.protocol||location.hostname!==a.hostname||a.href.indexOf("#")>-1&&p(a)==p(location)||t.isDefaultPrevented())){var o={url:a.href,container:e(a).attr("data-pjax"),target:a},r=e.extend({},o,s),l=e.Event("pjax:click");e(a).trigger(l,[r]),l.isDefaultPrevented()||(n(r),t.preventDefault(),e(a).trigger("pjax:clicked",[r]))}}function s(t,i,s){s=m(i,s);var a=t.currentTarget;if("FORM"!==a.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var o={type:a.method.toUpperCase(),url:a.action,container:e(a).attr("data-pjax"),target:a};if("GET"!==o.type&&void 0!==window.FormData)o.data=new FormData(a),o.processData=!1,o.contentType=!1;else{if(e(a).find(":file").length)return;o.data=e(a).serializeArray()}n(e.extend({},o,s)),t.preventDefault()}function n(t){function i(t,i,n){n||(n={}),n.relatedTarget=s;var a=e.Event(t,n);return r.trigger(a,i),!a.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,n.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var s=t.target,a=f(t.url).hash,r=t.context=g(t.container);t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:r.selector}):t.data._pjax=r.selector;var l;t.beforeSend=function(e,s){if("GET"!==s.type&&(s.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",r.selector),!i("pjax:beforeSend",[e,s]))return!1;s.timeout>0&&(l=setTimeout(function(){i("pjax:timeout",[e,t])&&e.abort("timeout")},s.timeout),s.timeout=0);var n=f(s.url);a&&(n.hash=a),t.requestUrl=d(n)},t.complete=function(e,s){l&&clearTimeout(l),i("pjax:complete",[e,s,t]),i("pjax:end",[e,t])},t.error=function(e,s,n){var a=w("",e,t),r=i("pjax:error",[e,s,n,t]);"GET"==t.type&&"abort"!==s&&r&&o(a.url)},t.success=function(s,l,h){var u=n.state,d="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,p=h.getResponseHeader("X-PJAX-Version"),m=w(s,h,t),g=f(m.url);if(a&&(g.hash=a,m.url=g.href),d&&p&&d!==p)return void o(m.url);if(!m.contents)return void o(m.url);n.state={id:t.id||c(),url:m.url,title:m.title,container:r.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(n.state,m.title,m.url);try{document.activeElement.blur()}catch(v){}m.title&&(document.title=m.title),i("pjax:beforeReplace",[m.contents,t],{state:n.state,previousState:u}),r.html(m.contents);var b=r.find("input[autofocus], textarea[autofocus]").last()[0];b&&document.activeElement!==b&&b.focus(),y(m.scripts);var k=t.scrollTo;if(a){var _=decodeURIComponent(a.slice(1)),z=document.getElementById(_)||document.getElementsByName(_)[0];z&&(k=e(z).offset().top)}"number"==typeof k&&e(window).scrollTop(k),i("pjax:success",[s,l,h,t])},n.state||(n.state={id:c(),url:window.location.href,title:document.title,container:r.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(n.state,document.title)),h(n.xhr),n.options=t;var p=n.xhr=e.ajax(t);return p.readyState>0&&(t.push&&!t.replace&&(k(n.state.id,u(r)),window.history.pushState(null,"",t.requestUrl)),i("pjax:start",[p,t]),i("pjax:send",[p,t])),n.xhr}function a(t,i){var s={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return n(e.extend(s,m(t,i)))}function o(e){window.history.replaceState(null,"",n.state.url),window.location.replace(e)}function r(t){S||h(n.xhr);var i,s=n.state,a=t.state;if(a&&a.container){if(S&&D==a.url)return;if(s){if(s.id===a.id)return;i=s.id<a.id?"forward":"back"}var r=P[a.id]||[],l=e(r[0]||a.container),c=r[1];if(l.length){s&&_(i,s.id,u(l));var d=e.Event("pjax:popstate",{state:a,direction:i});l.trigger(d);var f={id:a.id,url:a.url,container:l,push:!1,fragment:a.fragment,timeout:a.timeout,scrollTo:!1};if(c){l.trigger("pjax:start",[null,f]),n.state=a,a.title&&(document.title=a.title);var p=e.Event("pjax:beforeReplace",{state:a,previousState:s});l.trigger(p,[c,f]),l.html(c),l.trigger("pjax:end",[null,f])}else n(f);l[0].offsetHeight}else o(location.href)}S=!1}function l(t){var i=e.isFunction(t.url)?t.url():t.url,s=t.type?t.type.toUpperCase():"GET",n=e("<form>",{method:"GET"===s?"GET":"POST",action:i,style:"display:none"});"GET"!==s&&"POST"!==s&&n.append(e("<input>",{type:"hidden",name:"_method",value:s.toLowerCase()}));var a=t.data;if("string"==typeof a)e.each(a.split("&"),function(t,i){var s=i.split("=");n.append(e("<input>",{type:"hidden",name:s[0],value:s[1]}))});else if(e.isArray(a))e.each(a,function(t,i){n.append(e("<input>",{type:"hidden",name:i.name,value:i.value}))});else if("object"==typeof a){var o;for(o in a)n.append(e("<input>",{type:"hidden",name:o,value:a[o]}))}e(document.body).append(n),n.submit()}function h(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function c(){return(new Date).getTime()}function u(e){var t=e.clone();return t.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[e.selector,t.contents()]}function d(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function f(e){var t=document.createElement("a");return t.href=e,t}function p(e){return e.href.replace(/#.*/,"")}function m(t,i){return t&&i?i.container=t:i=e.isPlainObject(t)?t:{container:t},i.container&&(i.container=g(i.container)),i}function g(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function v(e,t){return e.filter(t).add(e.find(t))}function b(t){return e.parseHTML(t,document,!0)}function w(t,i,s){var n={},a=/<html/i.test(t),o=i.getResponseHeader("X-PJAX-URL");if(n.url=o?d(f(o)):s.requestUrl,a)var r=e(b(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),l=e(b(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var r=l=e(b(t));if(0===l.length)return n;if(n.title=v(r,"title").last().text(),s.fragment){if("body"===s.fragment)var h=l;else var h=v(l,s.fragment).first();h.length&&(n.contents="body"===s.fragment?h:h.contents(),n.title||(n.title=h.attr("title")||h.data("title")))}else a||(n.contents=l);return n.contents&&(n.contents=n.contents.not(function(){return e(this).is("title")}),n.contents.find("title").remove(),n.scripts=v(n.contents,"script[src]").remove(),n.contents=n.contents.not(n.scripts)),n.title&&(n.title=e.trim(n.title)),n}function y(t){if(t){var i=e("script[src]");t.each(function(){var t=this.src,s=i.filter(function(){return this.src===t});if(!s.length){var n=document.createElement("script"),a=e(this).attr("type");a&&(n.type=a),n.src=e(this).attr("src"),document.head.appendChild(n)}})}}function k(e,t){P[e]=t,A.push(e),z(M,0),z(A,n.defaults.maxCacheLength)}function _(e,t,i){var s,a;P[t]=i,"forward"===e?(s=A,a=M):(s=M,a=A),s.push(t),(t=a.pop())&&delete P[t],z(s,n.defaults.maxCacheLength)}function z(e,t){for(;e.length>t;)delete P[e.shift()]}function x(){return e("meta").filter(function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function C(){e.fn.pjax=t,e.pjax=n,e.pjax.enable=e.noop,e.pjax.disable=T,e.pjax.click=i,e.pjax.submit=s,e.pjax.reload=a,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:x},e(window).on("popstate.pjax",r)}function T(){e.fn.pjax=function(){return this},e.pjax=l,e.pjax.enable=C,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",r)}var S=!0,D=window.location.href,I=window.history.state;I&&I.container&&(n.state=I),"state"in window.history&&(S=!1);var P={},M=[],A=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?C():T()}(jQuery);